import 'package:flutter/material.dart';
import 'package:dio/dio.dart';

class ZodiacDetail extends StatefulWidget {
  final String zodiacName;

  ZodiacDetail({required this.zodiacName});

  @override
  _ZodiacDetailPageState createState() => _ZodiacDetailPageState();
}

class _ZodiacDetailPageState extends State<ZodiacDetail> {
  Map<String, dynamic>? countryData;

  @override
  void initState() {
    super.initState();
    fetchCountryDetails();
  }

  Future<void> fetchCountryDetails() async {
    try {
      // print('пуе  https://restcountries.com/v3.1/name/${widget.zodiacName}');
      // var response = await Dio()
      //     .get('https://restcountries.com/v3.1/name/${widget.zodiacName}');
      // setState(() {
      //   countryData = response.data[0];
      // });
      countryData = {
        'data': {
          'text':
              'Сегодняшний день для вас будет наполнен глубокими эмоциями и интуитивными озарениями. Вы почувствуете, как ваша внутренняя сила набирает обороты, и это поможет вам справиться с любыми трудностями. Однако будьте осторожны: ваша интенсивность может вызывать напряжение в отношениях с окружающими. Постарайтесь не поддаваться желанию контролировать всё и всех вокруг.                  Утром вы можете почувствовать легкое беспокойство или тревогу. Это связано с тем, что ваше подсознание активно работает, обрабатывая информацию, которую вы получили в последние дни. Не игнорируйте свои сны или внезапные мысли — они могут подсказать вам важные решения. Запишите свои идеи, чтобы не упустить их.                  В первой половине дня звезды советуют сосредоточиться на работе или важных проектах. Ваша решительность и умение видеть суть вещей помогут вам добиться успеха. Если вы столкнетесь с сопротивлением, не идите напролом — используйте дипломатию и хитрость. Скорпионы умеют добиваться своего, не привлекая лишнего внимания.                  В личной жизни сегодня возможны как яркие моменты, так и небольшие размолвки. Если вы состоите в отношениях, постарайтесь быть более открытым и честным со своим партнером. Ваша скрытность может вызывать недопонимание. Если вы одиноки, не исключено, что сегодня вы встретите человека, который произведет на вас сильное впечатление. Однако не спешите раскрывать все карты — дайте себе время понять, что это за личность.          Финансово день будет стабильным, но не стоит рисковать крупными суммами. Если вы давно планировали сделать важную покупку, сегодня подходящий день для этого. Однако избегайте импульсивных трат — они могут оказаться необдуманными.                  Здоровье сегодня требует внимания. Вы можете чувствовать усталость или напряжение, особенно если в последнее время много работали. Постарайтесь выделить время для отдыха и расслабления. Медитация или прогулка на свежем воздухе помогут восстановить энергию.                  Вечером вы почувствуете потребность в уединении. Это нормально — Скорпионы часто нуждаются в том, чтобы побыть наедине с собой. Используйте это время для того, чтобы привести мысли в порядок и зарядиться энергией. Если вы чувствуете, что эмоции переполняют вас, попробуйте выразить их через творчество — напишите, нарисуйте или просто помечтайте. Сегодняшний день подходит для того, чтобы отпустить старые обиды и переживания. Вы можете почувствовать, что готовы к новому этапу в жизни. Доверьтесь своей интуиции — она вас не подведет. Помните, что ваша сила — в умении трансформировать трудности в возможности.'
        }
      };
    } catch (e) {
      print('Error fetching country details: $e');
    }
  }

  @override
  Widget build(BuildContext context) {
    return TabsExample();
  }
}

class TabsExample extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return DefaultTabController(
      length: 3, // Количество вкладок
      child: Scaffold(
        appBar: AppBar(
          title: Text('Вкладки'),
        ),
        body: Column(
          children: [
            // Блок с картинкой и текстом
            Container(
              padding: EdgeInsets.all(16), // Отступы
              color: const Color.fromARGB(255, 71, 71, 71), // Цвет фона
              child: Row(
                children: [
                  Image.asset(
                    'assets/images/zodiac/aries.png', // Путь к картинке
                    width: 50, // Ширина картинки
                    height: 50, // Высота картинки
                  ),
                  SizedBox(width: 16), // Отступ между картинкой и текстом
                  Expanded(
                    child: Text(
                      'Это пример текста рядом с картинкой. '
                      'Он может быть длинным и занимать несколько строк.',
                      style: TextStyle(fontSize: 16),
                    ),
                  ),
                ],
              ),
            ),
            // Табы (кнопки)
            Container(
              color:
                  const Color.fromARGB(255, 99, 99, 99), // Цвет фона для табов
              child: TabBar(
                tabs: [
                  Tab(text: 'Сегодня'), // Вкладка "Сегодня"
                  Tab(text: 'Завтра'), // Вкладка "Завтра"
                  Tab(text: 'Неделя'), // Вкладка "Месяц"
                ],
                labelColor: Colors.white, // Цвет текста активной вкладки
                unselectedLabelColor:
                    Colors.white70, // Цвет текста неактивной вкладки
                indicatorColor: Colors.white, // Цвет индикатора
              ),
            ),
            // Контент вкладок
            Expanded(
              child: TabBarView(
                children: [
                  Center(
                      child:
                          Text('Контент для Завтра')), // Контент для "Завтра"
                  Center(
                      child:
                          Text('Контент для Сегодня')), // Контент для "Сегодня"
                  Center(
                      child: Text('Контент для Месяц')), // Контент для "Месяц"
                ],
              ),
            ),
          ],
        ),
      ),
    );
  }
}
